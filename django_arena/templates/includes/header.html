{% load static %}
<header class="header">
  <nav class="header__navbar navbar-header navbar navbar-expand-lg navbar-dark">
    <div class="p-3">
      <a class="menu-header__link" href="{% url 'homepage:main' %}">
        <img src="{% static "logo.jpg" %}" alt="" height="37" class="d-inline-block align-text-top">
      </a>
    </div>
    <ul class="navbar-header__menu navbar-header__menu-left menu-header p-3">
      <li class="menu-header__item">
        <a class="menu-header__link" href="{% url 'homepage:main' %}">Главная</a>
      </li>
      <li class="menu-header__item">
        <a class="menu-header__link" href="{% url 'notes:blog-all' %}">Блог</a>
      </li>
      {% if request.user.is_authenticated %}
        <li class="menu-header__item">
          <a class="menu-header__link" href="{% url 'users:friends' %}">Друзья</a>
        </li>
        <li class="menu-header__item">
          <a class="menu-header__link" href="{% url 'requests:add_friend' %}">Добавить в друзья</a>
        </li>
        <li class="menu-header__item">
          <a class="menu-header__link" href="{% url 'requests:invite_list' %}">Приглашения в друзья</a>
        </li>
        <li class="menu-header__item">
          <a class="menu-header__link" href="{% url 'groups:groups' %}">Группы пользователя</a>
        </li>
        <li class="menu-header__item">
          <a class="menu-header__link" href="{% url 'groups:new_groups' %}">Создать новую группу</a>
        </li>
        <li class="menu-header__item">
          <a class="menu-header__link" href="{% url 'groups:enter_user_in_group' %}">Присоединиться к публичной группе</a>
        </li>
        <li class="menu-header__item">
          <a class="menu-header__link" href="{% url 'groups:invitations' %}">Приглашения</a>
        </li>
      {% endif %}
      {% if request.user.is_staff or request.user.is_admin %}
      <li class="menu-header__item">
        <a class="menu-header__link" href="{% url 'admin:index' %}">Админ-панель</a>
      </li>
      {% endif %}
      <li class="menu-header__item" id="header-notifications-button">
        <img class="menu-header__img" src="{% static "images/icons/header_notifications.svg" %}" alt="">
        <div id="menu-header-notifications-list" class="menu-header__notifications-list" style="display: none">
          {% if notifications|length > 0 %}
            <ul class="menu-header__notifications-list__list">
              {% for notification in notifications %}
                <li>
                  <span class="menu-header__notifications-list__text">{{ notification|safe }}</span>
                  <div class="menu-header__notifications-list__remove" data-delete="{{ notification.id }}"><img class="menu-header__notifications-list__remove__img" src="{% static "images/icons/header_remove.svg" %}" alt=""></div>
                </li>
              {% endfor %}
            </ul>
          {% else %}
            Не обнаружено новых уведомлений
          {% endif %}
        </div>
      </li>
    </ul>
    <ul class="navbar-header__menu navbar-header__menu-right menu-header p-3">
      {% if request.user.is_authenticated %}
        <li class="menu-header__item">
          <link rel="stylesheet" type="text/css" href="{% static 'popup/popup.css' %}">
          <div id="modal" class="modal fade">
            <div id="dialog" class="modal-dialog" hx-target="this"></div>
          </div>
          <button class="gradient-button" hx-get="{% url 'lobby:gameplay-settings' %}" hx-target="#dialog">Начать дуэль</button>
        </li>
        <li class="menu-header__item">
          <a href="{% url 'users:logout' %}" class="btn btn-primary">Выйти</a>
        </li>
        <li class="menu-header__item">
          <a class="menu-header__link" href="{% url 'users:profile' request.user.id %}">Профиль</a>
        </li>
      {% else %}
        <li class="menu-header__item">
          <a href="{% url 'users:login' %}" class="btn btn-primary">Войти</a>
        </li>
        <li class="menu-header__item">
          <a href="{% url 'users:signup' %}" class="btn btn-primary">Зарегистрироваться</a>
        </li>
      {% endif %}
      <script src={% static "htmx/htmx.min.js" %}></script>
      <script src={% static "bootstrap/js/bootstrap.bundle.min.js" %}></script>
      <script src={% static "popup/popup.js" %}></script>
    </ul>
  </nav>
</header>
